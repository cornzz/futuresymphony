import{S as ae,i as se,s as re,e as v,t as $,j as S,c as k,a as g,g as D,d as u,l as L,b as _,f as G,F as f,h as F,G as oe,ac as ne,v as ie,w as fe,x as ce,p as V,n as X,A as ue,k as Y,o as he,J as z,u as _e,m as pe,X as me,ai as Z}from"../../chunks/vendor-3b8c650a.js";import{B as de}from"../../chunks/Button-17e544cc.js";import{l as Q,c as ve}from"../../chunks/stores-600db517.js";function x(a,t,r){const i=a.slice();return i[8]=t[r],i}function ee(a){let t,r=a[4]("jury.title")+"",i,p,s,l,e,n=a[4]("registration.form.pieceTitle")+"",b,I,h,E=a[4]("registration.form.annotation")+"",R,K,j,H=a[4]("registration.form.pieceScore")+"",q,T,y,U=a[4]("registration.form.pieceDemo")+"",B,O,A=a[2],d=[];for(let c=0;c<A.length;c+=1)d[c]=te(x(a,A,c));return{c(){t=v("h1"),i=$(r),p=S(),s=v("table"),l=v("tr"),e=v("th"),b=$(n),I=S(),h=v("th"),R=$(E),K=S(),j=v("th"),q=$(H),T=S(),y=v("th"),B=$(U),O=S();for(let c=0;c<d.length;c+=1)d[c].c();this.h()},l(c){t=k(c,"H1",{class:!0});var m=g(t);i=D(m,r),m.forEach(u),p=L(c),s=k(c,"TABLE",{class:!0});var o=g(s);l=k(o,"TR",{class:!0});var w=g(l);e=k(w,"TH",{class:!0});var N=g(e);b=D(N,n),N.forEach(u),I=L(w),h=k(w,"TH",{class:!0});var P=g(h);R=D(P,E),P.forEach(u),K=L(w),j=k(w,"TH",{class:!0});var C=g(j);q=D(C,H),C.forEach(u),T=L(w),y=k(w,"TH",{class:!0});var M=g(y);B=D(M,U),M.forEach(u),w.forEach(u),O=L(o);for(let J=0;J<d.length;J+=1)d[J].l(o);o.forEach(u),this.h()},h(){_(t,"class","cover-heading"),_(e,"class","title svelte-arvqk2"),_(h,"class","svelte-arvqk2"),_(j,"class","svelte-arvqk2"),_(y,"class","svelte-arvqk2"),_(l,"class","svelte-arvqk2"),_(s,"class","svelte-arvqk2")},m(c,m){G(c,t,m),f(t,i),G(c,p,m),G(c,s,m),f(s,l),f(l,e),f(e,b),f(l,I),f(l,h),f(h,R),f(l,K),f(l,j),f(j,q),f(l,T),f(l,y),f(y,B),f(s,O);for(let o=0;o<d.length;o+=1)d[o].m(s,null)},p(c,m){if(m&16&&r!==(r=c[4]("jury.title")+"")&&F(i,r),m&16&&n!==(n=c[4]("registration.form.pieceTitle")+"")&&F(b,n),m&16&&E!==(E=c[4]("registration.form.annotation")+"")&&F(R,E),m&16&&H!==(H=c[4]("registration.form.pieceScore")+"")&&F(q,H),m&16&&U!==(U=c[4]("registration.form.pieceDemo")+"")&&F(B,U),m&31){A=c[2];let o;for(o=0;o<A.length;o+=1){const w=x(c,A,o);d[o]?d[o].p(w,m):(d[o]=te(w),d[o].c(),d[o].m(s,null))}for(;o<d.length;o+=1)d[o].d(1);d.length=A.length}},d(c){c&&u(t),c&&u(p),c&&u(s),ne(d,c)}}}function te(a){let t,r,i=a[8].pieceTitle+"",p,s,l,e,n=a[4]("admin.table.show")+"",b,I,h,E,R=a[4]("admin.table.open")+"",K,j,H,q,T,y=a[4]("admin.table.open")+"",U,B,O,A,d;function c(){return a[5](a[8])}return{c(){t=v("tr"),r=v("td"),p=$(i),s=S(),l=v("td"),e=v("span"),b=$(n),I=S(),h=v("td"),E=v("a"),K=$(R),H=S(),q=v("td"),T=v("a"),U=$(y),O=S(),this.h()},l(m){t=k(m,"TR",{class:!0});var o=g(t);r=k(o,"TD",{class:!0});var w=g(r);p=D(w,i),w.forEach(u),s=L(o),l=k(o,"TD",{class:!0});var N=g(l);e=k(N,"SPAN",{class:!0});var P=g(e);b=D(P,n),P.forEach(u),N.forEach(u),I=L(o),h=k(o,"TD",{class:!0});var C=g(h);E=k(C,"A",{class:!0,href:!0,target:!0});var M=g(E);K=D(M,R),M.forEach(u),C.forEach(u),H=L(o),q=k(o,"TD",{class:!0});var J=g(q);T=k(J,"A",{class:!0,href:!0,target:!0});var W=g(T);U=D(W,y),W.forEach(u),J.forEach(u),O=L(o),o.forEach(u),this.h()},h(){_(r,"class","title svelte-arvqk2"),_(e,"class","link"),_(l,"class","svelte-arvqk2"),_(E,"class","link"),_(E,"href",j=new URL(`/api/files.php?key=${a[8].download_key}&jury=${a[0]}&file=pieceScoreFile`,a[3]).toString()),_(E,"target","_blank"),_(h,"class","svelte-arvqk2"),_(T,"class","link"),_(T,"href",B=new URL(`/api/files.php?key=${a[8].download_key}&jury=${a[0]}&file=pieceDemoFile`,a[3]).toString()),_(T,"target","_blank"),_(q,"class","svelte-arvqk2"),_(t,"class","svelte-arvqk2")},m(m,o){G(m,t,o),f(t,r),f(r,p),f(t,s),f(t,l),f(l,e),f(e,b),f(t,I),f(t,h),f(h,E),f(E,K),f(t,H),f(t,q),f(q,T),f(T,U),f(t,O),A||(d=oe(e,"click",c),A=!0)},p(m,o){a=m,o&4&&i!==(i=a[8].pieceTitle+"")&&F(p,i),o&16&&n!==(n=a[4]("admin.table.show")+"")&&F(b,n),o&16&&R!==(R=a[4]("admin.table.open")+"")&&F(K,R),o&13&&j!==(j=new URL(`/api/files.php?key=${a[8].download_key}&jury=${a[0]}&file=pieceScoreFile`,a[3]).toString())&&_(E,"href",j),o&16&&y!==(y=a[4]("admin.table.open")+"")&&F(U,y),o&13&&B!==(B=new URL(`/api/files.php?key=${a[8].download_key}&jury=${a[0]}&file=pieceDemoFile`,a[3]).toString())&&_(T,"href",B)},d(m){m&&u(t),A=!1,d()}}}function le(a){let t,r,i,p,s,l;return s=new de({props:{type:"primary",slim:!0,$$slots:{default:[ke]},$$scope:{ctx:a}}}),s.$on("click",a[6]),{c(){t=v("dialog"),r=v("p"),i=$(a[1]),p=S(),ie(s.$$.fragment),this.h()},l(e){t=k(e,"DIALOG",{class:!0});var n=g(t);r=k(n,"P",{});var b=g(r);i=D(b,a[1]),b.forEach(u),p=L(n),fe(s.$$.fragment,n),n.forEach(u),this.h()},h(){t.open=!0,_(t,"class","message")},m(e,n){G(e,t,n),f(t,r),f(r,i),f(t,p),ce(s,t,null),l=!0},p(e,n){(!l||n&2)&&F(i,e[1]);const b={};n&2048&&(b.$$scope={dirty:n,ctx:e}),s.$set(b)},i(e){l||(V(s.$$.fragment,e),l=!0)},o(e){X(s.$$.fragment,e),l=!1},d(e){e&&u(t),ue(s)}}}function ke(a){let t;return{c(){t=$("OK")},l(r){t=D(r,"OK")},m(r,i){G(r,t,i)},d(r){r&&u(t)}}}function ge(a){let t,r,i,p,s=a[2].length&&ee(a),l=a[1]&&le(a);return{c(){t=v("div"),s&&s.c(),r=S(),l&&l.c(),i=Y(),this.h()},l(e){t=k(e,"DIV",{class:!0});var n=g(t);s&&s.l(n),n.forEach(u),r=L(e),l&&l.l(e),i=Y(),this.h()},h(){_(t,"class","wrapper svelte-arvqk2")},m(e,n){G(e,t,n),s&&s.m(t,null),G(e,r,n),l&&l.m(e,n),G(e,i,n),p=!0},p(e,[n]){e[2].length?s?s.p(e,n):(s=ee(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null),e[1]?l?(l.p(e,n),n&2&&V(l,1)):(l=le(e),l.c(),V(l,1),l.m(i.parentNode,i)):l&&(pe(),X(l,1,1,()=>{l=null}),he())},i(e){p||(V(l),p=!0)},o(e){X(l),p=!1},d(e){e&&u(t),s&&s.d(),e&&u(r),l&&l.d(e),e&&u(i)}}}function be(a,t,r){let i,p,s;z(a,Q,h=>r(7,i=h)),z(a,ve,h=>r(3,p=h)),z(a,me,h=>r(4,s=h));let l,e,n=[];return _e(async()=>{Z(Q,i=!0,i),r(0,l=window.location.search.substring(1));const h=await fetch(new URL(`files.php?jury=${l}`,p),{method:"GET"});h.ok?r(2,n=await h.json()):r(1,e="Invalid access key."),Z(Q,i=!1,i)}),[l,e,n,p,s,h=>r(1,e=h.annotation),()=>r(1,e="")]}class ye extends ae{constructor(t){super();se(this,t,be,ge,re,{})}}export{ye as default};
