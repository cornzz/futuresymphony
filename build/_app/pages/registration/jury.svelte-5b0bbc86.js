import{S as se,i as ae,s as re,k,a as S,e as Y,l as g,m as w,g as _,c as D,n as d,b as G,f as V,t as Q,d as ne,H as X,o as oe,p as $,q as R,G as f,r as F,a2 as ie,J as fe,v as ce,w as ue,x as _e,A as he,u as pe,ad as Z}from"../../chunks/index-5b3145ec.js";import{B as de}from"../../chunks/Button-0276f9ef.js";import{l as z,e as me,X as ve}from"../../chunks/stores-360d0bab.js";function x(l,t,r){const i=l.slice();return i[9]=t[r],i}function ee(l){let t,r=l[4]("jury.title")+"",i,h,a,s,e,o=l[4]("registration.form.pieceTitle")+"",v,I,b,u=l[4]("registration.form.annotation")+"",U,K,T,O=l[4]("registration.form.pieceScore")+"",L,j,y,A=l[4]("registration.form.pieceDemo")+"",B,q,H=l[2],m=[];for(let c=0;c<H.length;c+=1)m[c]=te(x(l,H,c));return{c(){t=k("h1"),i=$(r),h=S(),a=k("table"),s=k("tr"),e=k("th"),v=$(o),I=S(),b=k("th"),U=$(u),K=S(),T=k("th"),L=$(O),j=S(),y=k("th"),B=$(A),q=S();for(let c=0;c<m.length;c+=1)m[c].c();this.h()},l(c){t=g(c,"H1",{class:!0});var p=w(t);i=R(p,r),p.forEach(_),h=D(c),a=g(c,"TABLE",{class:!0});var n=w(a);s=g(n,"TR",{});var E=w(s);e=g(E,"TH",{class:!0});var N=w(e);v=R(N,o),N.forEach(_),I=D(E),b=g(E,"TH",{class:!0});var P=w(b);U=R(P,u),P.forEach(_),K=D(E),T=g(E,"TH",{class:!0});var C=w(T);L=R(C,O),C.forEach(_),j=D(E),y=g(E,"TH",{class:!0});var M=w(y);B=R(M,A),M.forEach(_),E.forEach(_),q=D(n);for(let J=0;J<m.length;J+=1)m[J].l(n);n.forEach(_),this.h()},h(){d(t,"class","cover-heading"),d(e,"class","title svelte-1inwvkj"),d(b,"class","svelte-1inwvkj"),d(T,"class","svelte-1inwvkj"),d(y,"class","svelte-1inwvkj"),d(a,"class","svelte-1inwvkj")},m(c,p){G(c,t,p),f(t,i),G(c,h,p),G(c,a,p),f(a,s),f(s,e),f(e,v),f(s,I),f(s,b),f(b,U),f(s,K),f(s,T),f(T,L),f(s,j),f(s,y),f(y,B),f(a,q);for(let n=0;n<m.length;n+=1)m[n].m(a,null)},p(c,p){if(p&16&&r!==(r=c[4]("jury.title")+"")&&F(i,r),p&16&&o!==(o=c[4]("registration.form.pieceTitle")+"")&&F(v,o),p&16&&u!==(u=c[4]("registration.form.annotation")+"")&&F(U,u),p&16&&O!==(O=c[4]("registration.form.pieceScore")+"")&&F(L,O),p&16&&A!==(A=c[4]("registration.form.pieceDemo")+"")&&F(B,A),p&31){H=c[2];let n;for(n=0;n<H.length;n+=1){const E=x(c,H,n);m[n]?m[n].p(E,p):(m[n]=te(E),m[n].c(),m[n].m(a,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=H.length}},d(c){c&&_(t),c&&_(h),c&&_(a),ie(m,c)}}}function te(l){let t,r,i=l[9].pieceTitle+"",h,a,s,e,o=l[4]("admin.table.show")+"",v,I,b,u,U=l[4]("admin.table.open")+"",K,T,O,L,j,y=l[4]("admin.table.open")+"",A,B,q,H,m;function c(){return l[5](l[9])}return{c(){t=k("tr"),r=k("td"),h=$(i),a=S(),s=k("td"),e=k("span"),v=$(o),I=S(),b=k("td"),u=k("a"),K=$(U),O=S(),L=k("td"),j=k("a"),A=$(y),q=S(),this.h()},l(p){t=g(p,"TR",{});var n=w(t);r=g(n,"TD",{class:!0});var E=w(r);h=R(E,i),E.forEach(_),a=D(n),s=g(n,"TD",{class:!0});var N=w(s);e=g(N,"SPAN",{class:!0});var P=w(e);v=R(P,o),P.forEach(_),N.forEach(_),I=D(n),b=g(n,"TD",{class:!0});var C=w(b);u=g(C,"A",{class:!0,href:!0,target:!0});var M=w(u);K=R(M,U),M.forEach(_),C.forEach(_),O=D(n),L=g(n,"TD",{class:!0});var J=w(L);j=g(J,"A",{class:!0,href:!0,target:!0});var W=w(j);A=R(W,y),W.forEach(_),J.forEach(_),q=D(n),n.forEach(_),this.h()},h(){d(r,"class","title svelte-1inwvkj"),d(e,"class","link"),d(s,"class","svelte-1inwvkj"),d(u,"class","link"),d(u,"href",T=new URL(`/api/files.php?key=${l[9].download_key}&jury=${l[0]}&file=pieceScoreFile`,l[3]).toString()),d(u,"target","_blank"),d(b,"class","svelte-1inwvkj"),d(j,"class","link"),d(j,"href",B=new URL(`/api/files.php?key=${l[9].download_key}&jury=${l[0]}&file=pieceDemoFile`,l[3]).toString()),d(j,"target","_blank"),d(L,"class","svelte-1inwvkj")},m(p,n){G(p,t,n),f(t,r),f(r,h),f(t,a),f(t,s),f(s,e),f(e,v),f(t,I),f(t,b),f(b,u),f(u,K),f(t,O),f(t,L),f(L,j),f(j,A),f(t,q),H||(m=fe(e,"click",c),H=!0)},p(p,n){l=p,n&4&&i!==(i=l[9].pieceTitle+"")&&F(h,i),n&16&&o!==(o=l[4]("admin.table.show")+"")&&F(v,o),n&16&&U!==(U=l[4]("admin.table.open")+"")&&F(K,U),n&13&&T!==(T=new URL(`/api/files.php?key=${l[9].download_key}&jury=${l[0]}&file=pieceScoreFile`,l[3]).toString())&&d(u,"href",T),n&16&&y!==(y=l[4]("admin.table.open")+"")&&F(A,y),n&13&&B!==(B=new URL(`/api/files.php?key=${l[9].download_key}&jury=${l[0]}&file=pieceDemoFile`,l[3]).toString())&&d(j,"href",B)},d(p){p&&_(t),H=!1,m()}}}function le(l){let t,r,i,h,a,s;return a=new de({props:{type:"primary",slim:!0,$$slots:{default:[ke]},$$scope:{ctx:l}}}),a.$on("click",l[6]),{c(){t=k("dialog"),r=k("p"),i=$(l[1]),h=S(),ce(a.$$.fragment),this.h()},l(e){t=g(e,"DIALOG",{class:!0});var o=w(t);r=g(o,"P",{});var v=w(r);i=R(v,l[1]),v.forEach(_),h=D(o),ue(a.$$.fragment,o),o.forEach(_),this.h()},h(){t.open=!0,d(t,"class","message")},m(e,o){G(e,t,o),f(t,r),f(r,i),f(t,h),_e(a,t,null),s=!0},p(e,o){(!s||o&2)&&F(i,e[1]);const v={};o&4096&&(v.$$scope={dirty:o,ctx:e}),a.$set(v)},i(e){s||(V(a.$$.fragment,e),s=!0)},o(e){Q(a.$$.fragment,e),s=!1},d(e){e&&_(t),he(a)}}}function ke(l){let t;return{c(){t=$("OK")},l(r){t=R(r,"OK")},m(r,i){G(r,t,i)},d(r){r&&_(t)}}}function ge(l){let t,r,i,h,a=l[2].length&&ee(l),s=l[1]&&le(l);return{c(){t=k("div"),a&&a.c(),r=S(),s&&s.c(),i=Y(),this.h()},l(e){t=g(e,"DIV",{class:!0});var o=w(t);a&&a.l(o),o.forEach(_),r=D(e),s&&s.l(e),i=Y(),this.h()},h(){d(t,"class","wrapper svelte-1inwvkj")},m(e,o){G(e,t,o),a&&a.m(t,null),G(e,r,o),s&&s.m(e,o),G(e,i,o),h=!0},p(e,[o]){e[2].length?a?a.p(e,o):(a=ee(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),e[1]?s?(s.p(e,o),o&2&&V(s,1)):(s=le(e),s.c(),V(s,1),s.m(i.parentNode,i)):s&&(pe(),Q(s,1,1,()=>{s=null}),ne())},i(e){h||(V(s),h=!0)},o(e){Q(s),h=!1},d(e){e&&_(t),a&&a.d(),e&&_(r),s&&s.d(e),e&&_(i)}}}function we(l,t,r){let i,h,a;X(l,z,u=>r(7,i=u)),X(l,me,u=>r(3,h=u)),X(l,ve,u=>r(4,a=u));let s,e,o=[];const v=u=>u.key==="Escape"&&r(1,e="");return oe(async()=>{Z(z,i=!0,i),r(0,s=window.location.search.substring(1));const u=await fetch(new URL(`files.php?jury=${s}`,h),{method:"GET"});return u.ok?r(2,o=await u.json()):r(1,e="Invalid access key."),Z(z,i=!1,i),window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)}),[s,e,o,h,a,u=>r(1,e=u.annotation),()=>r(1,e="")]}class ye extends se{constructor(t){super(),ae(this,t,we,ge,re,{})}}export{ye as default};
