import{S as se,i as ae,s as re,e as g,t as S,j as D,c as k,a as b,g as $,d as h,l as R,b as d,f as G,F as f,h as H,G as ne,ac as oe,v as ie,w as fe,x as ce,p as V,n as X,A as ue,k as Y,o as he,J as z,u as _e,m as pe,X as de,ai as Z}from"../../chunks/vendor-3b8c650a.js";import{B as me}from"../../chunks/Button-17e544cc.js";import{l as Q,c as ve}from"../../chunks/stores-600db517.js";function x(l,t,r){const i=l.slice();return i[9]=t[r],i}function ee(l){let t,r=l[4]("jury.title")+"",i,_,a,s,e,o=l[4]("registration.form.pieceTitle")+"",v,I,w,u=l[4]("registration.form.annotation")+"",U,K,j,B=l[4]("registration.form.pieceScore")+"",L,y,T,A=l[4]("registration.form.pieceDemo")+"",O,J,F=l[2],m=[];for(let c=0;c<F.length;c+=1)m[c]=te(x(l,F,c));return{c(){t=g("h1"),i=S(r),_=D(),a=g("table"),s=g("tr"),e=g("th"),v=S(o),I=D(),w=g("th"),U=S(u),K=D(),j=g("th"),L=S(B),y=D(),T=g("th"),O=S(A),J=D();for(let c=0;c<m.length;c+=1)m[c].c();this.h()},l(c){t=k(c,"H1",{class:!0});var p=b(t);i=$(p,r),p.forEach(h),_=R(c),a=k(c,"TABLE",{class:!0});var n=b(a);s=k(n,"TR",{});var E=b(s);e=k(E,"TH",{class:!0});var P=b(e);v=$(P,o),P.forEach(h),I=R(E),w=k(E,"TH",{class:!0});var q=b(w);U=$(q,u),q.forEach(h),K=R(E),j=k(E,"TH",{class:!0});var C=b(j);L=$(C,B),C.forEach(h),y=R(E),T=k(E,"TH",{class:!0});var M=b(T);O=$(M,A),M.forEach(h),E.forEach(h),J=R(n);for(let N=0;N<m.length;N+=1)m[N].l(n);n.forEach(h),this.h()},h(){d(t,"class","cover-heading"),d(e,"class","title svelte-19tn6vg"),d(w,"class","svelte-19tn6vg"),d(j,"class","svelte-19tn6vg"),d(T,"class","svelte-19tn6vg"),d(a,"class","svelte-19tn6vg")},m(c,p){G(c,t,p),f(t,i),G(c,_,p),G(c,a,p),f(a,s),f(s,e),f(e,v),f(s,I),f(s,w),f(w,U),f(s,K),f(s,j),f(j,L),f(s,y),f(s,T),f(T,O),f(a,J);for(let n=0;n<m.length;n+=1)m[n].m(a,null)},p(c,p){if(p&16&&r!==(r=c[4]("jury.title")+"")&&H(i,r),p&16&&o!==(o=c[4]("registration.form.pieceTitle")+"")&&H(v,o),p&16&&u!==(u=c[4]("registration.form.annotation")+"")&&H(U,u),p&16&&B!==(B=c[4]("registration.form.pieceScore")+"")&&H(L,B),p&16&&A!==(A=c[4]("registration.form.pieceDemo")+"")&&H(O,A),p&31){F=c[2];let n;for(n=0;n<F.length;n+=1){const E=x(c,F,n);m[n]?m[n].p(E,p):(m[n]=te(E),m[n].c(),m[n].m(a,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=F.length}},d(c){c&&h(t),c&&h(_),c&&h(a),oe(m,c)}}}function te(l){let t,r,i=l[9].pieceTitle+"",_,a,s,e,o=l[4]("admin.table.show")+"",v,I,w,u,U=l[4]("admin.table.open")+"",K,j,B,L,y,T=l[4]("admin.table.open")+"",A,O,J,F,m;function c(){return l[5](l[9])}return{c(){t=g("tr"),r=g("td"),_=S(i),a=D(),s=g("td"),e=g("span"),v=S(o),I=D(),w=g("td"),u=g("a"),K=S(U),B=D(),L=g("td"),y=g("a"),A=S(T),J=D(),this.h()},l(p){t=k(p,"TR",{});var n=b(t);r=k(n,"TD",{class:!0});var E=b(r);_=$(E,i),E.forEach(h),a=R(n),s=k(n,"TD",{class:!0});var P=b(s);e=k(P,"SPAN",{class:!0});var q=b(e);v=$(q,o),q.forEach(h),P.forEach(h),I=R(n),w=k(n,"TD",{class:!0});var C=b(w);u=k(C,"A",{class:!0,href:!0,target:!0});var M=b(u);K=$(M,U),M.forEach(h),C.forEach(h),B=R(n),L=k(n,"TD",{class:!0});var N=b(L);y=k(N,"A",{class:!0,href:!0,target:!0});var W=b(y);A=$(W,T),W.forEach(h),N.forEach(h),J=R(n),n.forEach(h),this.h()},h(){d(r,"class","title svelte-19tn6vg"),d(e,"class","link"),d(s,"class","svelte-19tn6vg"),d(u,"class","link"),d(u,"href",j=new URL(`/api/files.php?key=${l[9].download_key}&jury=${l[0]}&file=pieceScoreFile`,l[3]).toString()),d(u,"target","_blank"),d(w,"class","svelte-19tn6vg"),d(y,"class","link"),d(y,"href",O=new URL(`/api/files.php?key=${l[9].download_key}&jury=${l[0]}&file=pieceDemoFile`,l[3]).toString()),d(y,"target","_blank"),d(L,"class","svelte-19tn6vg")},m(p,n){G(p,t,n),f(t,r),f(r,_),f(t,a),f(t,s),f(s,e),f(e,v),f(t,I),f(t,w),f(w,u),f(u,K),f(t,B),f(t,L),f(L,y),f(y,A),f(t,J),F||(m=ne(e,"click",c),F=!0)},p(p,n){l=p,n&4&&i!==(i=l[9].pieceTitle+"")&&H(_,i),n&16&&o!==(o=l[4]("admin.table.show")+"")&&H(v,o),n&16&&U!==(U=l[4]("admin.table.open")+"")&&H(K,U),n&13&&j!==(j=new URL(`/api/files.php?key=${l[9].download_key}&jury=${l[0]}&file=pieceScoreFile`,l[3]).toString())&&d(u,"href",j),n&16&&T!==(T=l[4]("admin.table.open")+"")&&H(A,T),n&13&&O!==(O=new URL(`/api/files.php?key=${l[9].download_key}&jury=${l[0]}&file=pieceDemoFile`,l[3]).toString())&&d(y,"href",O)},d(p){p&&h(t),F=!1,m()}}}function le(l){let t,r,i,_,a,s;return a=new me({props:{type:"primary",slim:!0,$$slots:{default:[ge]},$$scope:{ctx:l}}}),a.$on("click",l[6]),{c(){t=g("dialog"),r=g("p"),i=S(l[1]),_=D(),ie(a.$$.fragment),this.h()},l(e){t=k(e,"DIALOG",{class:!0});var o=b(t);r=k(o,"P",{});var v=b(r);i=$(v,l[1]),v.forEach(h),_=R(o),fe(a.$$.fragment,o),o.forEach(h),this.h()},h(){t.open=!0,d(t,"class","message")},m(e,o){G(e,t,o),f(t,r),f(r,i),f(t,_),ce(a,t,null),s=!0},p(e,o){(!s||o&2)&&H(i,e[1]);const v={};o&4096&&(v.$$scope={dirty:o,ctx:e}),a.$set(v)},i(e){s||(V(a.$$.fragment,e),s=!0)},o(e){X(a.$$.fragment,e),s=!1},d(e){e&&h(t),ue(a)}}}function ge(l){let t;return{c(){t=S("OK")},l(r){t=$(r,"OK")},m(r,i){G(r,t,i)},d(r){r&&h(t)}}}function ke(l){let t,r,i,_,a=l[2].length&&ee(l),s=l[1]&&le(l);return{c(){t=g("div"),a&&a.c(),r=D(),s&&s.c(),i=Y(),this.h()},l(e){t=k(e,"DIV",{class:!0});var o=b(t);a&&a.l(o),o.forEach(h),r=R(e),s&&s.l(e),i=Y(),this.h()},h(){d(t,"class","wrapper svelte-19tn6vg")},m(e,o){G(e,t,o),a&&a.m(t,null),G(e,r,o),s&&s.m(e,o),G(e,i,o),_=!0},p(e,[o]){e[2].length?a?a.p(e,o):(a=ee(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),e[1]?s?(s.p(e,o),o&2&&V(s,1)):(s=le(e),s.c(),V(s,1),s.m(i.parentNode,i)):s&&(pe(),X(s,1,1,()=>{s=null}),he())},i(e){_||(V(s),_=!0)},o(e){X(s),_=!1},d(e){e&&h(t),a&&a.d(),e&&h(r),s&&s.d(e),e&&h(i)}}}function be(l,t,r){let i,_,a;z(l,Q,u=>r(7,i=u)),z(l,ve,u=>r(3,_=u)),z(l,de,u=>r(4,a=u));let s,e,o=[];const v=u=>u.key==="Escape"&&r(1,e="");return _e(async()=>{Z(Q,i=!0,i),r(0,s=window.location.search.substring(1));const u=await fetch(new URL(`files.php?jury=${s}`,_),{method:"GET"});return u.ok?r(2,o=await u.json()):r(1,e="Invalid access key."),Z(Q,i=!1,i),window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)}),[s,e,o,_,a,u=>r(1,e=u.annotation),()=>r(1,e="")]}class Te extends se{constructor(t){super();ae(this,t,be,ke,re,{})}}export{Te as default};
