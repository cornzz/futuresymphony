import{S as se,i as ae,s as re,e as k,t as S,j as D,c as g,a as w,g as $,d as h,l as R,b as d,f as G,F as f,h as H,G as ne,ac as oe,v as ie,w as fe,x as ce,p as V,n as X,A as ue,k as Y,o as he,J as z,u as _e,m as pe,X as de,ai as Z}from"../../chunks/vendor-56e6ddcf.js";import{B as me}from"../../chunks/Button-f42889a9.js";import{l as Q,e as ve}from"../../chunks/stores-6e9a1075.js";function x(l,t,r){const i=l.slice();return i[9]=t[r],i}function ee(l){let t,r=l[4]("jury.title")+"",i,_,a,s,e,o=l[4]("registration.form.pieceTitle")+"",v,I,b,u=l[4]("registration.form.annotation")+"",U,K,T,B=l[4]("registration.form.pieceScore")+"",L,E,y,A=l[4]("registration.form.pieceDemo")+"",O,J,F=l[2],m=[];for(let c=0;c<F.length;c+=1)m[c]=te(x(l,F,c));return{c(){t=k("h1"),i=S(r),_=D(),a=k("table"),s=k("tr"),e=k("th"),v=S(o),I=D(),b=k("th"),U=S(u),K=D(),T=k("th"),L=S(B),E=D(),y=k("th"),O=S(A),J=D();for(let c=0;c<m.length;c+=1)m[c].c();this.h()},l(c){t=g(c,"H1",{class:!0});var p=w(t);i=$(p,r),p.forEach(h),_=R(c),a=g(c,"TABLE",{class:!0});var n=w(a);s=g(n,"TR",{});var j=w(s);e=g(j,"TH",{class:!0});var P=w(e);v=$(P,o),P.forEach(h),I=R(j),b=g(j,"TH",{class:!0});var q=w(b);U=$(q,u),q.forEach(h),K=R(j),T=g(j,"TH",{class:!0});var C=w(T);L=$(C,B),C.forEach(h),E=R(j),y=g(j,"TH",{class:!0});var M=w(y);O=$(M,A),M.forEach(h),j.forEach(h),J=R(n);for(let N=0;N<m.length;N+=1)m[N].l(n);n.forEach(h),this.h()},h(){d(t,"class","cover-heading"),d(e,"class","title svelte-1inwvkj"),d(b,"class","svelte-1inwvkj"),d(T,"class","svelte-1inwvkj"),d(y,"class","svelte-1inwvkj"),d(a,"class","svelte-1inwvkj")},m(c,p){G(c,t,p),f(t,i),G(c,_,p),G(c,a,p),f(a,s),f(s,e),f(e,v),f(s,I),f(s,b),f(b,U),f(s,K),f(s,T),f(T,L),f(s,E),f(s,y),f(y,O),f(a,J);for(let n=0;n<m.length;n+=1)m[n].m(a,null)},p(c,p){if(p&16&&r!==(r=c[4]("jury.title")+"")&&H(i,r),p&16&&o!==(o=c[4]("registration.form.pieceTitle")+"")&&H(v,o),p&16&&u!==(u=c[4]("registration.form.annotation")+"")&&H(U,u),p&16&&B!==(B=c[4]("registration.form.pieceScore")+"")&&H(L,B),p&16&&A!==(A=c[4]("registration.form.pieceDemo")+"")&&H(O,A),p&31){F=c[2];let n;for(n=0;n<F.length;n+=1){const j=x(c,F,n);m[n]?m[n].p(j,p):(m[n]=te(j),m[n].c(),m[n].m(a,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=F.length}},d(c){c&&h(t),c&&h(_),c&&h(a),oe(m,c)}}}function te(l){let t,r,i=l[9].pieceTitle+"",_,a,s,e,o=l[4]("admin.table.show")+"",v,I,b,u,U=l[4]("admin.table.open")+"",K,T,B,L,E,y=l[4]("admin.table.open")+"",A,O,J,F,m;function c(){return l[5](l[9])}return{c(){t=k("tr"),r=k("td"),_=S(i),a=D(),s=k("td"),e=k("span"),v=S(o),I=D(),b=k("td"),u=k("a"),K=S(U),B=D(),L=k("td"),E=k("a"),A=S(y),J=D(),this.h()},l(p){t=g(p,"TR",{});var n=w(t);r=g(n,"TD",{class:!0});var j=w(r);_=$(j,i),j.forEach(h),a=R(n),s=g(n,"TD",{class:!0});var P=w(s);e=g(P,"SPAN",{class:!0});var q=w(e);v=$(q,o),q.forEach(h),P.forEach(h),I=R(n),b=g(n,"TD",{class:!0});var C=w(b);u=g(C,"A",{class:!0,href:!0,target:!0});var M=w(u);K=$(M,U),M.forEach(h),C.forEach(h),B=R(n),L=g(n,"TD",{class:!0});var N=w(L);E=g(N,"A",{class:!0,href:!0,target:!0});var W=w(E);A=$(W,y),W.forEach(h),N.forEach(h),J=R(n),n.forEach(h),this.h()},h(){d(r,"class","title svelte-1inwvkj"),d(e,"class","link"),d(s,"class","svelte-1inwvkj"),d(u,"class","link"),d(u,"href",T=new URL(`/api/files.php?key=${l[9].download_key}&jury=${l[0]}&file=pieceScoreFile`,l[3]).toString()),d(u,"target","_blank"),d(b,"class","svelte-1inwvkj"),d(E,"class","link"),d(E,"href",O=new URL(`/api/files.php?key=${l[9].download_key}&jury=${l[0]}&file=pieceDemoFile`,l[3]).toString()),d(E,"target","_blank"),d(L,"class","svelte-1inwvkj")},m(p,n){G(p,t,n),f(t,r),f(r,_),f(t,a),f(t,s),f(s,e),f(e,v),f(t,I),f(t,b),f(b,u),f(u,K),f(t,B),f(t,L),f(L,E),f(E,A),f(t,J),F||(m=ne(e,"click",c),F=!0)},p(p,n){l=p,n&4&&i!==(i=l[9].pieceTitle+"")&&H(_,i),n&16&&o!==(o=l[4]("admin.table.show")+"")&&H(v,o),n&16&&U!==(U=l[4]("admin.table.open")+"")&&H(K,U),n&13&&T!==(T=new URL(`/api/files.php?key=${l[9].download_key}&jury=${l[0]}&file=pieceScoreFile`,l[3]).toString())&&d(u,"href",T),n&16&&y!==(y=l[4]("admin.table.open")+"")&&H(A,y),n&13&&O!==(O=new URL(`/api/files.php?key=${l[9].download_key}&jury=${l[0]}&file=pieceDemoFile`,l[3]).toString())&&d(E,"href",O)},d(p){p&&h(t),F=!1,m()}}}function le(l){let t,r,i,_,a,s;return a=new me({props:{type:"primary",slim:!0,$$slots:{default:[ke]},$$scope:{ctx:l}}}),a.$on("click",l[6]),{c(){t=k("dialog"),r=k("p"),i=S(l[1]),_=D(),ie(a.$$.fragment),this.h()},l(e){t=g(e,"DIALOG",{class:!0});var o=w(t);r=g(o,"P",{});var v=w(r);i=$(v,l[1]),v.forEach(h),_=R(o),fe(a.$$.fragment,o),o.forEach(h),this.h()},h(){t.open=!0,d(t,"class","message")},m(e,o){G(e,t,o),f(t,r),f(r,i),f(t,_),ce(a,t,null),s=!0},p(e,o){(!s||o&2)&&H(i,e[1]);const v={};o&4096&&(v.$$scope={dirty:o,ctx:e}),a.$set(v)},i(e){s||(V(a.$$.fragment,e),s=!0)},o(e){X(a.$$.fragment,e),s=!1},d(e){e&&h(t),ue(a)}}}function ke(l){let t;return{c(){t=S("OK")},l(r){t=$(r,"OK")},m(r,i){G(r,t,i)},d(r){r&&h(t)}}}function ge(l){let t,r,i,_,a=l[2].length&&ee(l),s=l[1]&&le(l);return{c(){t=k("div"),a&&a.c(),r=D(),s&&s.c(),i=Y(),this.h()},l(e){t=g(e,"DIV",{class:!0});var o=w(t);a&&a.l(o),o.forEach(h),r=R(e),s&&s.l(e),i=Y(),this.h()},h(){d(t,"class","wrapper svelte-1inwvkj")},m(e,o){G(e,t,o),a&&a.m(t,null),G(e,r,o),s&&s.m(e,o),G(e,i,o),_=!0},p(e,[o]){e[2].length?a?a.p(e,o):(a=ee(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),e[1]?s?(s.p(e,o),o&2&&V(s,1)):(s=le(e),s.c(),V(s,1),s.m(i.parentNode,i)):s&&(pe(),X(s,1,1,()=>{s=null}),he())},i(e){_||(V(s),_=!0)},o(e){X(s),_=!1},d(e){e&&h(t),a&&a.d(),e&&h(r),s&&s.d(e),e&&h(i)}}}function we(l,t,r){let i,_,a;z(l,Q,u=>r(7,i=u)),z(l,ve,u=>r(3,_=u)),z(l,de,u=>r(4,a=u));let s,e,o=[];const v=u=>u.key==="Escape"&&r(1,e="");return _e(async()=>{Z(Q,i=!0,i),r(0,s=window.location.search.substring(1));const u=await fetch(new URL(`files.php?jury=${s}`,_),{method:"GET"});return u.ok?r(2,o=await u.json()):r(1,e="Invalid access key."),Z(Q,i=!1,i),window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)}),[s,e,o,_,a,u=>r(1,e=u.annotation),()=>r(1,e="")]}class ye extends se{constructor(t){super();ae(this,t,we,ge,re,{})}}export{ye as default};
