import{S as ae,i as re,s as ne,e as w,j as C,c as I,a as V,l as G,d,D as T,b,W as M,E as U,f as z,F as y,Y as ie,G as K,p as E,v as oe,w as fe,x as ue,n as L,Z as A,A as ce,o as Q,_ as S,H as _e,I as me,t as de,g as pe,h as he,k as $,J as ge,m as X,a0 as x,a1 as R,a2 as q,a3 as ve,X as ke,Q as be,R as je}from"../chunks/vendor-f477cbc2.js";function ee(a){let t,s,e,l,r,n,f,g,v,N,m,k,p,D,W,F,i=a[8]&&te(),u=a[5].length>0&&se(a),o=a[4]&&a[7]>0&&le(a);return{c(){t=w("div"),i&&i.c(),s=C(),e=w("div"),l=w("div"),r=w("img"),f=C(),u&&u.c(),v=C(),o&&o.c(),N=C(),m=w("span"),this.h()},l(h){t=I(h,"DIV",{class:!0});var c=V(t);i&&i.l(c),s=G(c),e=I(c,"DIV",{class:!0});var _=V(e);l=I(_,"DIV",{});var j=V(l);r=I(j,"IMG",{src:!0,alt:!0,class:!0}),f=G(j),u&&u.l(j),j.forEach(d),v=G(_),o&&o.l(_),_.forEach(d),N=G(c),m=I(c,"SPAN",{class:!0}),V(m).forEach(d),c.forEach(d),this.h()},h(){T(r.src,n=a[2])||b(r,"src",n),b(r,"alt",a[3]),b(r,"class","svelte-jjput9"),M(()=>a[14].call(l)),b(e,"class","image svelte-jjput9"),U(e,"loading",a[8]),b(m,"class","image-frame-close svelte-jjput9"),b(t,"class","image-frame svelte-jjput9")},m(h,c){z(h,t,c),i&&i.m(t,null),y(t,s),y(t,e),y(e,l),y(l,r),a[11](r),y(l,f),u&&u.m(l,null),g=ie(l,a[14].bind(l)),y(e,v),o&&o.m(e,null),y(t,N),y(t,m),D=!0,W||(F=K(t,"click",a[0]),W=!0)},p(h,c){a=h,a[8]?i?c&256&&E(i,1):(i=te(),i.c(),E(i,1),i.m(t,s)):i&&(X(),L(i,1,1,()=>{i=null}),Q()),(!D||c&4&&!T(r.src,n=a[2]))&&b(r,"src",n),(!D||c&8)&&b(r,"alt",a[3]),a[5].length>0?u?u.p(a,c):(u=se(a),u.c(),u.m(l,null)):u&&(u.d(1),u=null),a[4]&&a[7]>0?o?(o.p(a,c),c&144&&E(o,1)):(o=le(a),o.c(),E(o,1),o.m(e,null)):o&&(X(),L(o,1,1,()=>{o=null}),Q()),c&256&&U(e,"loading",a[8])},i(h){D||(E(i),E(o),M(()=>{k||(k=A(m,x,{duration:300},!0)),k.run(1)}),M(()=>{p||(p=A(t,q,{duration:300,easing:R},!0)),p.run(1)}),D=!0)},o(h){L(i),L(o),k||(k=A(m,x,{duration:300},!1)),k.run(0),p||(p=A(t,q,{duration:300,easing:R},!1)),p.run(0),D=!1},d(h){h&&d(t),i&&i.d(),a[11](null),u&&u.d(),g(),o&&o.d(),h&&k&&k.end(),h&&p&&p.end(),W=!1,F()}}}function te(a){let t,s,e,l;return s=new ve({props:{color:"var(--color-primary)"}}),{c(){t=w("div"),oe(s.$$.fragment),this.h()},l(r){t=I(r,"DIV",{class:!0});var n=V(t);fe(s.$$.fragment,n),n.forEach(d),this.h()},h(){b(t,"class","spinner svelte-jjput9")},m(r,n){z(r,t,n),ue(s,t,null),l=!0},i(r){l||(E(s.$$.fragment,r),M(()=>{e||(e=A(t,q,{duration:100},!0)),e.run(1)}),l=!0)},o(r){L(s.$$.fragment,r),e||(e=A(t,q,{duration:100},!1)),e.run(0),l=!1},d(r){r&&d(t),ce(s),r&&e&&e.end()}}}function se(a){let t,s,e,l,r;return{c(){t=w("div"),s=C(),e=w("div"),this.h()},l(n){t=I(n,"DIV",{class:!0}),V(t).forEach(d),s=G(n),e=I(n,"DIV",{class:!0}),V(e).forEach(d),this.h()},h(){b(t,"class","arrow left svelte-jjput9"),b(e,"class","arrow right svelte-jjput9")},m(n,f){z(n,t,f),z(n,s,f),z(n,e,f),l||(r=[K(t,"click",S(a[12])),K(e,"click",S(a[13]))],l=!0)},p:_e,d(n){n&&d(t),n&&d(s),n&&d(e),l=!1,me(r)}}}function le(a){let t,s=a[9](a[4])+"",e,l,r;return{c(){t=w("span"),e=de(s),this.h()},l(n){t=I(n,"SPAN",{class:!0});var f=V(t);e=pe(f,s),f.forEach(d),this.h()},h(){b(t,"class","caption svelte-jjput9")},m(n,f){z(n,t,f),y(t,e),r=!0},p(n,f){a=n,(!r||f&528)&&s!==(s=a[9](a[4])+"")&&he(e,s)},i(n){r||(M(()=>{l||(l=A(t,q,{duration:300,easing:R},!0)),l.run(1)}),r=!0)},o(n){l||(l=A(t,q,{duration:300,easing:R},!1)),l.run(0),r=!1},d(n){n&&d(t),n&&l&&l.end()}}}function Ee(a){let t,s,e=a[1]&&ee(a);return{c(){e&&e.c(),t=$()},l(l){e&&e.l(l),t=$()},m(l,r){e&&e.m(l,r),z(l,t,r),s=!0},p(l,[r]){l[1]?e?(e.p(l,r),r&2&&E(e,1)):(e=ee(l),e.c(),E(e,1),e.m(t.parentNode,t)):e&&(X(),L(e,1,1,()=>{e=null}),Q())},i(l){s||(E(e),s=!0)},o(l){L(e),s=!1},d(l){e&&e.d(l),l&&d(t)}}}function we(a,t,s){let e;ge(a,ke,_=>s(9,e=_));let l=!1,r,n,f,g,v,N,m,k,p=!1;async function D(_,j,H,J){var Y,Z,B;const P=_.target;s(2,r=(Y=P.dataset.bigsrc)!=null?Y:""),s(3,n=(B=(Z=P.dataset.bigalt)!=null?Z:P.alt)!=null?B:""),s(4,f=""),s(5,g=j!=null?j:[]),v=H!=null?H:0,r?(s(1,l=!0),s(8,p=!0),await be(),s(6,m.onload=()=>{var O;s(4,f=(O=P.dataset.bigcaption)!=null?O:""),s(8,p=!1)},m),document.addEventListener("keydown",i),N=J!=null?J:()=>{}):W()}function W(){s(1,l=!1),document.removeEventListener("keydown",i),N()}function F(_){g.length>0&&(s(8,p=!0),v=v+(_==="right"?1:-1),v=(v%g.length+g.length)%g.length,s(2,r=g[v].bigsrc),s(3,n=g[v].bigsrc),s(4,f=""),s(6,m.onload=()=>{var j;s(4,f=(j=g[v].caption)!=null?j:""),s(8,p=!1)},m))}function i(_){_.key==="Escape"?W():_.key==="ArrowRight"?F("right"):_.key==="ArrowLeft"&&F("left")}function u(_){je[_?"unshift":"push"](()=>{m=_,s(6,m)})}const o=()=>F("left"),h=()=>F("right");function c(){k=this.clientWidth,s(7,k)}return[D,l,r,n,f,g,m,k,p,e,F,u,o,h,c]}class ye extends ae{constructor(t){super();re(this,t,we,Ee,ne,{toggleImageFrame:0})}get toggleImageFrame(){return this.$$.ctx[0]}}export{ye as default};
