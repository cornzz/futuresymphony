import{S as x,i as $,s as ee,e as F,j as P,c as A,a as V,l as R,d as v,D as B,b as k,W,f as q,F as E,Y as te,G as se,p as y,v as le,w as ne,x as ae,n as D,Z as I,A as re,o as J,t as ie,g as oe,h as fe,k as H,J as ue,m as K,_ as O,a0 as C,a1 as z,a2 as ce,X as _e,Q as me,R as de}from"../chunks/vendor-675a0daa.js";function T(a){let t,s,e,l,n,r,_,d,g,b,u,p,h,L,N,o=a[7]&&U(),i=a[4]&&a[6]>0&&S(a);return{c(){t=F("div"),o&&o.c(),s=P(),e=F("div"),l=F("div"),n=F("img"),d=P(),i&&i.c(),g=P(),b=F("span"),this.h()},l(m){t=A(m,"DIV",{class:!0});var c=V(t);o&&o.l(c),s=R(c),e=A(c,"DIV",{class:!0});var f=V(e);l=A(f,"DIV",{});var w=V(l);n=A(w,"IMG",{src:!0,alt:!0,class:!0}),w.forEach(v),d=R(f),i&&i.l(f),f.forEach(v),g=R(c),b=A(c,"SPAN",{class:!0}),V(b).forEach(v),c.forEach(v),this.h()},h(){B(n.src,r=a[2])||k(n,"src",r),k(n,"alt",a[3]),k(n,"class","svelte-1gny0fu"),W(()=>a[10].call(l)),k(e,"class","svelte-1gny0fu"),k(b,"class","image-frame-close svelte-1gny0fu"),k(t,"class","image-frame svelte-1gny0fu")},m(m,c){q(m,t,c),o&&o.m(t,null),E(t,s),E(t,e),E(e,l),E(l,n),a[9](n),_=te(l,a[10].bind(l)),E(e,d),i&&i.m(e,null),E(t,g),E(t,b),h=!0,L||(N=se(t,"click",a[0]),L=!0)},p(m,c){a=m,a[7]?o?c&128&&y(o,1):(o=U(),o.c(),y(o,1),o.m(t,s)):o&&(K(),D(o,1,1,()=>{o=null}),J()),(!h||c&4&&!B(n.src,r=a[2]))&&k(n,"src",r),(!h||c&8)&&k(n,"alt",a[3]),a[4]&&a[6]>0?i?(i.p(a,c),c&80&&y(i,1)):(i=S(a),i.c(),y(i,1),i.m(e,null)):i&&(K(),D(i,1,1,()=>{i=null}),J())},i(m){h||(y(o),y(i),W(()=>{u||(u=I(b,O,{duration:300},!0)),u.run(1)}),W(()=>{p||(p=I(t,z,{duration:300,easing:C},!0)),p.run(1)}),h=!0)},o(m){D(o),D(i),u||(u=I(b,O,{duration:300},!1)),u.run(0),p||(p=I(t,z,{duration:300,easing:C},!1)),p.run(0),h=!1},d(m){m&&v(t),o&&o.d(),a[9](null),_(),i&&i.d(),m&&u&&u.end(),m&&p&&p.end(),L=!1,N()}}}function U(a){let t,s,e,l;return s=new ce({props:{color:"var(--color-primary)"}}),{c(){t=F("div"),le(s.$$.fragment),this.h()},l(n){t=A(n,"DIV",{class:!0});var r=V(t);ne(s.$$.fragment,r),r.forEach(v),this.h()},h(){k(t,"class","spinner svelte-1gny0fu")},m(n,r){q(n,t,r),ae(s,t,null),l=!0},i(n){l||(y(s.$$.fragment,n),W(()=>{e||(e=I(t,z,{duration:100},!0)),e.run(1)}),l=!0)},o(n){D(s.$$.fragment,n),e||(e=I(t,z,{duration:100},!1)),e.run(0),l=!1},d(n){n&&v(t),re(s),n&&e&&e.end()}}}function S(a){let t,s=a[8](a[4])+"",e,l,n;return{c(){t=F("span"),e=ie(s),this.h()},l(r){t=A(r,"SPAN",{class:!0});var _=V(t);e=oe(_,s),_.forEach(v),this.h()},h(){k(t,"class","caption svelte-1gny0fu")},m(r,_){q(r,t,_),E(t,e),n=!0},p(r,_){a=r,(!n||_&272)&&s!==(s=a[8](a[4])+"")&&fe(e,s)},i(r){n||(W(()=>{l||(l=I(t,z,{duration:300,easing:C},!0)),l.run(1)}),n=!0)},o(r){l||(l=I(t,z,{duration:300,easing:C},!1)),l.run(0),n=!1},d(r){r&&v(t),r&&l&&l.end()}}}function ge(a){let t,s,e=a[1]&&T(a);return{c(){e&&e.c(),t=H()},l(l){e&&e.l(l),t=H()},m(l,n){e&&e.m(l,n),q(l,t,n),s=!0},p(l,[n]){l[1]?e?(e.p(l,n),n&2&&y(e,1)):(e=T(l),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(K(),D(e,1,1,()=>{e=null}),J())},i(l){s||(y(e),s=!0)},o(l){D(e),s=!1},d(l){e&&e.d(l),l&&v(t)}}}function pe(a,t,s){let e;ue(a,_e,f=>s(8,e=f));let l=!1,n,r,_,d,g,b,u,p,h=!1;async function L(f,w,G,M){var Q,X,Y;const j=f.target;s(2,n=(Q=j.dataset.bigsrc)!=null?Q:""),s(3,r=(Y=(X=j.dataset.bigalt)!=null?X:j.alt)!=null?Y:""),s(4,_=""),d=w!=null?w:[],g=G!=null?G:0,n?(s(1,l=!0),s(7,h=!0),await me(),s(5,u.onload=()=>{var Z;s(4,_=(Z=j.dataset.bigcaption)!=null?Z:""),s(7,h=!1)},u),document.addEventListener("keydown",i),b=M!=null?M:()=>{}):N()}function N(){s(1,l=!1),document.removeEventListener("keydown",i),b()}function o(f){d.length>0&&(s(7,h=!0),g=g+(f==="right"?1:-1),g=(g%d.length+d.length)%d.length,s(2,n=d[g].bigsrc),s(3,r=d[g].bigsrc),s(4,_=""),s(5,u.onload=()=>{var w;s(4,_=(w=d[g].caption)!=null?w:""),s(7,h=!1)},u))}function i(f){f.key==="Escape"?N():f.key==="ArrowRight"?o("right"):f.key==="ArrowLeft"&&o("left")}function m(f){de[f?"unshift":"push"](()=>{u=f,s(5,u)})}function c(){p=this.clientWidth,s(6,p)}return[L,l,n,r,_,u,p,h,e,m,c]}class be extends x{constructor(t){super();$(this,t,pe,ge,ee,{toggleImageFrame:0})}get toggleImageFrame(){return this.$$.ctx[0]}}export{be as default};
