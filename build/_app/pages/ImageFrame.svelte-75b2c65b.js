import{S,i as x,s as $,e as j,j as M,c as I,a as D,l as P,d as k,D as Z,b as v,W as N,f as q,F as w,Y as ee,G as te,p as y,v as se,w as le,x as ae,n as F,Z as E,A as ne,o as R,t as re,g as ie,h as oe,k as B,J as fe,m as J,_ as H,a0 as C,a1 as L,a2 as ue,X as ce,Q as _e,R as de}from"../chunks/vendor-675a0daa.js";function O(n){let t,s,e,l,a,i,c,d,m,g,u,p,h,V,z,o=n[7]&&T(),f=n[4]&&n[6]>0&&U(n);return{c(){t=j("div"),o&&o.c(),s=M(),e=j("div"),l=j("div"),a=j("img"),d=M(),f&&f.c(),m=M(),g=j("span"),this.h()},l(_){t=I(_,"DIV",{class:!0});var r=D(t);o&&o.l(r),s=P(r),e=I(r,"DIV",{class:!0});var b=D(e);l=I(b,"DIV",{});var A=D(l);a=I(A,"IMG",{src:!0,alt:!0,class:!0}),A.forEach(k),d=P(b),f&&f.l(b),b.forEach(k),m=P(r),g=I(r,"SPAN",{class:!0}),D(g).forEach(k),r.forEach(k),this.h()},h(){Z(a.src,i=n[2])||v(a,"src",i),v(a,"alt",n[3]),v(a,"class","svelte-k17bfj"),N(()=>n[10].call(l)),v(e,"class","svelte-k17bfj"),v(g,"class","image-frame-close svelte-k17bfj"),v(t,"class","image-frame svelte-k17bfj")},m(_,r){q(_,t,r),o&&o.m(t,null),w(t,s),w(t,e),w(e,l),w(l,a),n[9](a),c=ee(l,n[10].bind(l)),w(e,d),f&&f.m(e,null),w(t,m),w(t,g),h=!0,V||(z=te(t,"click",n[0]),V=!0)},p(_,r){n=_,n[7]?o?r&128&&y(o,1):(o=T(),o.c(),y(o,1),o.m(t,s)):o&&(J(),F(o,1,1,()=>{o=null}),R()),(!h||r&4&&!Z(a.src,i=n[2]))&&v(a,"src",i),(!h||r&8)&&v(a,"alt",n[3]),n[4]&&n[6]>0?f?(f.p(n,r),r&80&&y(f,1)):(f=U(n),f.c(),y(f,1),f.m(e,null)):f&&(J(),F(f,1,1,()=>{f=null}),R())},i(_){h||(y(o),y(f),N(()=>{u||(u=E(g,H,{duration:300},!0)),u.run(1)}),N(()=>{p||(p=E(t,L,{duration:300,easing:C},!0)),p.run(1)}),h=!0)},o(_){F(o),F(f),u||(u=E(g,H,{duration:300},!1)),u.run(0),p||(p=E(t,L,{duration:300,easing:C},!1)),p.run(0),h=!1},d(_){_&&k(t),o&&o.d(),n[9](null),c(),f&&f.d(),_&&u&&u.end(),_&&p&&p.end(),V=!1,z()}}}function T(n){let t,s,e,l;return s=new ue({props:{color:"var(--color-primary)"}}),{c(){t=j("div"),se(s.$$.fragment),this.h()},l(a){t=I(a,"DIV",{class:!0});var i=D(t);le(s.$$.fragment,i),i.forEach(k),this.h()},h(){v(t,"class","spinner svelte-k17bfj")},m(a,i){q(a,t,i),ae(s,t,null),l=!0},i(a){l||(y(s.$$.fragment,a),N(()=>{e||(e=E(t,L,{duration:100},!0)),e.run(1)}),l=!0)},o(a){F(s.$$.fragment,a),e||(e=E(t,L,{duration:100},!1)),e.run(0),l=!1},d(a){a&&k(t),ne(s),a&&e&&e.end()}}}function U(n){let t,s=n[8](n[4])+"",e,l,a;return{c(){t=j("span"),e=re(s),this.h()},l(i){t=I(i,"SPAN",{class:!0});var c=D(t);e=ie(c,s),c.forEach(k),this.h()},h(){v(t,"class","caption svelte-k17bfj")},m(i,c){q(i,t,c),w(t,e),a=!0},p(i,c){n=i,(!a||c&272)&&s!==(s=n[8](n[4])+"")&&oe(e,s)},i(i){a||(N(()=>{l||(l=E(t,L,{duration:300,easing:C},!0)),l.run(1)}),a=!0)},o(i){l||(l=E(t,L,{duration:300,easing:C},!1)),l.run(0),a=!1},d(i){i&&k(t),i&&l&&l.end()}}}function me(n){let t,s,e=n[1]&&O(n);return{c(){e&&e.c(),t=B()},l(l){e&&e.l(l),t=B()},m(l,a){e&&e.m(l,a),q(l,t,a),s=!0},p(l,[a]){l[1]?e?(e.p(l,a),a&2&&y(e,1)):(e=O(l),e.c(),y(e,1),e.m(t.parentNode,t)):e&&(J(),F(e,1,1,()=>{e=null}),R())},i(l){s||(y(e),s=!0)},o(l){F(e),s=!1},d(l){e&&e.d(l),l&&k(t)}}}function pe(n,t,s){let e;fe(n,ce,r=>s(8,e=r));let l=!1,a,i,c,d,m,g,u,p,h=!1;async function V(r,b,A,G){var K,Q,X,Y;const W=r.target;s(2,a=(K=W.dataset.bigsrc)!=null?K:""),s(3,i=(X=(Q=W.dataset.bigalt)!=null?Q:W.alt)!=null?X:""),s(4,c=(Y=W.dataset.bigcaption)!=null?Y:""),d=b!=null?b:[],m=A!=null?A:0,a?(s(1,l=!0),s(7,h=!0),await _e(),s(5,u.onload=()=>{s(7,h=!1)},u),document.addEventListener("keydown",o),g=G!=null?G:()=>{}):(s(1,l=!1),document.removeEventListener("keydown",o),g())}function z(r){var b;d.length>0&&(s(7,h=!0),s(5,u.onload=()=>{s(7,h=!1)},u),m=m+(r==="right"?1:-1),m=(m%d.length+d.length)%d.length,s(2,a=d[m].bigsrc),s(3,i=d[m].bigsrc),s(4,c=(b=d[m].caption)!=null?b:""))}function o(r){r.key==="Escape"?(s(1,l=!1),document.removeEventListener("keydown",o),g()):r.key==="ArrowRight"?z("right"):r.key==="ArrowLeft"&&z("left")}function f(r){de[r?"unshift":"push"](()=>{u=r,s(5,u)})}function _(){p=this.clientWidth,s(6,p)}return[V,l,a,i,c,u,p,h,e,f,_]}class ge extends S{constructor(t){super();x(this,t,pe,me,$,{toggleImageFrame:0})}get toggleImageFrame(){return this.$$.ctx[0]}}export{ge as default};
