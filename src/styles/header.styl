.masthead
    width 100% 
    background-color rgba(0, 0, 0, 0.3)
    position absolute
    padding 0
    border-bottom 2px solid black
    border-bottom-color #adadad
    z-index 10

    &:global(.active)
        position fixed
        top 0
        background-color var(--color-primary)
        transform translateY(-100%)

        .mobile-nav
            .title
                opacity 1
                pointer-events initial

            .menu-icon
                right -10px
                transform translate(0, -50%)

    &:global(.open)
        transform translateY(0)
        transition transform .35s cubic-bezier(.33, .59, .14, 1)

        .mobile-nav .menu-icon
            transition none

    /* -- Mobile nav -- */
    .mobile-nav
        position relative
        align-items center
        height 45px
        width 100%

        .title
            position absolute
            top 50%
            left 50%
            transform translate(-50%, -50%)
            font-family 'Audiowide', 'Courier New'
            text-decoration none
            color #fafafa
            font-size clamp(17px, 5vmin, 25px)
            text-align center
            white-space nowrap
            opacity 0
            pointer-events none
            transition opacity 0.2s ease

        .menu-icon
            display block
            position absolute
            top 50%
            right 50%
            transform translate(50%, -50%)
            transition all 0.4s cubic-bezier(.33, .59, .14, 1)
            width 40px
            height 28px
            justify-self end
            z-index 1000

            &:hover
                cursor pointer
            
            .icon
                position absolute
                width 25%
                height 2px
                background #fff
                transition all 0.25s ease
                top 50%
                transform translateY(-50%)
                
                &.left
                    left 25%

                &.right
                    right 25%

                &:before,
                &:after
                    content ''
                    position absolute
                    width 100%
                    height 2px
                    background #fff
                    transition all 0.25s ease
                
                &:before
                    top -7px
                
                &:after
                    top 7px

            &.open
                right -10px
                transform translate(0, -50%)

                .icon
                    background transparent

                    &.left:before
                        transform rotateZ(45deg) translate(3px, 2px) scale(1.1)

                    &.left:after
                        transform rotateZ(-45deg) translate(3px, -2px) scale(1.1)

                    &.right:before
                        transform rotateZ(-45deg) translate(-4px, 1px) scale(1.1)

                    &.right:after
                        transform rotateZ(45deg) translate(-4px, -1px) scale(1.1)

        .menu
            background-color var(--color-primary)
            position fixed
            opacity .85
            pointer-events none
            transition all 0.4s cubic-bezier(.33, .59, .14, 1)
            top 0
            left -100vw
            width 100%
            height 100vh
            display flex
            flex-direction column
            justify-content center

            .links
                display flex
                flex-direction column
                justify-content center
                align-items center

                a
                    color rgba(255, 255, 255, .6)
                    text-shadow 0px 0px 15px #333
                    font-size 24px
                    height 40px
                    line-height 40px
                    margin-bottom 12px
                    padding 0 10px
                    text-decoration none
                    text-transform capitalize
                    transform translateX(calc(-50px * var(--n)))
                    transition transform 0.7s cubic-bezier(.4, .97, .39, .97)

                    &:last-child
                        margin-bottom 0

                    &:focus
                        color rgba(255, 255, 255, 1)
                    
                    &:global(.active)
                        color rgba(255, 255, 255 0.9)
                        text-shadow 0px 0px 15px #999

            hr
                background-color rgba(255, 255, 255, .6)
                width 100px
                height 2px
                margin 40px auto

            .language
                position relative
                display flex
                justify-content center

            &.active
                opacity 1
                left 0
                pointer-events all

                .links a
                    transform translateX(0)

    /* -- Desktop nav -- */
    .desktop-nav
        display flex
        justify-content space-between
        align-items center
        margin 0 15px

        .masthead-nav
            li
                display inline-block
                margin-bottom -2px

                a
                    padding 10px 0
                    font-size 16px
                    color rgba(255, 255, 255, .6)
                    text-shadow 1px 1px 1px rgba(0, 0, 0, .9)
                    transition color 0.15s linear
                    outline none
                    text-transform capitalize

                &:hover > a
                a:focus
                &:global(.clicked) > a
                    color rgba(255, 255, 255, 1)

                &:global(.active) > a
                &:global(.active) > a:focus
                    color rgba(255, 255, 255, 0.9)

                &:after
                    display block
                    content ''
                    border-bottom solid 2px #fff
                    transform scaleX(0)
                    transform-origin 100% 50%
                    transition transform 250ms ease-in-out

                &:hover:after
                &:global(.active):after
                &:global(.clicked):after
                    transform scaleX(1)
                    transform-origin 0% 50%

                &:global(.active):after
                &:global(.clicked):after
                    transition none

            li + li
                margin-left 20px

.back
    display flex
    opacity 0
    pointer-events none
    text-decoration none
    background-color rgba(0, 0, 0, 0.35)
    transition all .35s cubic-bezier(.33, .59, .14, 1)
    border-radius var(--border-radius)
    position fixed
    transform translateX(25px)
    bottom 70px
    right 30px
    z-index 7

    &:hover
    &:focus
        cursor pointer
        filter brightness(150%)
        background-color rgba(0, 0, 0, 0.55)

        span
            max-width 100px

    img,
    span
        pointer-events none

    img
        width 35px
        height 35px

    span
        line-height 35px
        color #EEE
        max-width 0
        overflow hidden
        white-space nowrap
        transition max-width 0.4s cubic-bezier(0.33, 1, 0.68, 1)

    &:global(.active)
        opacity 1
        transform none
        pointer-events auto

/* TODO: rework this mess... */

@media (min-width: 1200px)
    .masthead .desktop-nav
        margin 0px 150px
        
        .masthead-nav > li
            & + li
                margin-left 17px

            & > a
                font-size 17px
    
    .back
        right 120px

@media (min-width: 1200px) and (min-height: 800px)
    .masthead .desktop-nav .masthead-nav > li
            & + li
                margin-left 19px

            & > a
                font-size 18px

@media (min-width: 1300px)
    .masthead .desktop-nav
        margin 0px 180px
        
        .masthead-nav > li + li
            margin-left 18px

@media (min-width: 1400px)
    .masthead .desktop-nav .masthead-nav > li + li
        margin-left 22px

@media (min-width: 1500px) and (max-height: 890px)
    .masthead .desktop-nav
        margin 0px 240px
        
        .masthead-nav > li + li
            margin-left 20px

@media (min-width: 1600px) and (min-height: 900px)
    .masthead .desktop-nav
        margin 0px 250px

@media (min-width: 1700px)
    .masthead .desktop-nav
        margin 0px 320px
        
        .masthead-nav > li
            & + li
                margin-left 30px

            & > a
                font-size 20px

@media (max-width: 700px)
    .masthead
        padding 0 15px

        .desktop-nav
            display none

    .back
        bottom 45px
        right 20px

@media screen and (max-width: 640px) and (orientation: landscape)
    .masthead
        padding 5px 10px
        margin 0px
        background-color rgba(23, 30, 38, 1)

    .masthead-nav > li > a
        color rgba(255,255,255,.6)

    .masthead-nav > li
        margin-bottom -7px

@media (max-width: 350px)
    .back
        img
            width 30px
            height 30px
        
        span
            line-height 30px

@media (hover: none)
    .back span
        display none